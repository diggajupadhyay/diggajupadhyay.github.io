<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>How to Set Up ProtonVPN Free with WireGuard on Arch Linux</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&display=swap" rel=stylesheet><link rel=stylesheet href=/css/style.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-SPEMN4VYY9"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SPEMN4VYY9")</script></head><body><div class=container><header><h1>&lt;Diggaj Upadhyay/></h1><p class=subtitle>Tech Enthusiast | Business Developer | Open Source Advocate</p><nav><a href=/>Home</a>
<a href=/blog/>Blog</a></nav></header><div class=blog-post><h2>How to Set Up ProtonVPN Free with WireGuard on Arch Linux</h2><p>August 21, 2024</p><div class=content><p>In this guide, you&rsquo;ll learn how to set up ProtonVPN Free using WireGuard on Arch Linux. We&rsquo;ll also cover how to disable IPv6 to prevent potential IP leaks.</p><h2 id=step-1-install-required-packages>Step 1: Install Required Packages</h2><p>First, install the necessary packages for WireGuard:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo pacman -S wireguard-tools resolvconf
</span></span></code></pre></div><h2 id=step-2-access-protonvpn-dashboard>Step 2: Access ProtonVPN Dashboard</h2><p>Log in to your ProtonVPN account via the <a href=https://account.protonvpn.com>ProtonVPN dashboard</a>.</p><h2 id=step-3-download-wireguard-configuration-files>Step 3: Download WireGuard Configuration Files</h2><ol><li>Navigate to the <strong>Downloads</strong> section in your ProtonVPN dashboard.</li><li>Under <strong>WireGuard configuration</strong>, select <strong>Free</strong> and download the configuration files for the servers you want to connect to. The files will have a <code>.conf</code> extension.</li></ol><h2 id=step-4-set-up-the-wireguard-configuration>Step 4: Set Up the WireGuard Configuration</h2><p>Move the downloaded configuration files to the <code>/etc/wireguard/</code> directory:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mv /path/to/downloaded/configs/*.conf /etc/wireguard/
</span></span></code></pre></div><p>Ensure that only the root user can access these files:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo chmod <span style=color:#ae81ff>600</span> /etc/wireguard/*.conf
</span></span></code></pre></div><h2 id=step-5-connect-to-protonvpn-via-wireguard>Step 5: Connect to ProtonVPN via WireGuard</h2><p>To start a connection, use the following command (replace <code>server-name</code> with the actual name of the configuration file, excluding the <code>.conf</code> extension):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wg-quick up /etc/wireguard/server-name
</span></span></code></pre></div><p>For example, if the configuration file is named <code>us-free-01.conf</code>, the command would be:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wg-quick up us-free-01
</span></span></code></pre></div><h2 id=step-6-verify-your-ip-address>Step 6: Verify Your IP Address</h2><p>Visit <a href=https://ip.me>ip.me</a> to check your IP address. Make sure it matches the location of the VPN server you selected.</p><h3 id=handling-ipv6-leaks>Handling IPv6 Leaks</h3><p>If your IPv4 traffic is routed through the VPN but your IPv6 traffic shows your real location, follow these steps:</p><h4 id=step-7-disable-ipv6-only-if-leaking>Step 7: Disable IPv6 (Only If Leaking)</h4><p><strong>Temporary Disable (until reboot):</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo sysctl -w net.ipv6.conf.all.disable_ipv6<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>sudo sysctl -w net.ipv6.conf.default.disable_ipv6<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p><strong>Permanent Disable:</strong></p><ol><li><p>Edit or create the configuration file <code>/etc/sysctl.d/99-sysctl.conf</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/sysctl.d/99-sysctl.conf
</span></span></code></pre></div></li><li><p>Add the following lines:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>net.ipv6.conf.all.disable_ipv6 <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>net.ipv6.conf.default.disable_ipv6 <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span></code></pre></div></li><li><p>Apply the changes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo sysctl -p /etc/sysctl.d/99-sysctl.conf
</span></span></code></pre></div></li></ol><h2 id=step-8-disconnect-from-protonvpn>Step 8: Disconnect from ProtonVPN</h2><p>To disconnect, use:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wg-quick down server-name
</span></span></code></pre></div><h2 id=step-9-recheck-for-leaks>Step 9: Recheck for Leaks</h2><p>After applying the changes, reconnect to the VPN and check your IP again using <a href=https://ipleak.net>ipleak.net</a> to ensure no IPv6 addresses are leaking.</p><h2 id=conclusion>Conclusion</h2><p>You&rsquo;ve successfully set up ProtonVPN Free using WireGuard on Arch Linux and protected your privacy by ensuring that your IPv6 traffic doesn&rsquo;t leak your real location.</p><p>If you found this guide helpful, feel free to share it with others who might benefit from a secure and private internet experience!</p></div></div></div></body></html>